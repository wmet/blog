---
title: git中遇到的一些问题
date: 2017-07-25 01:52:44
tags:
  - git
  - 技术
categories:
  - 技术
  - Git
keywords:
  - git
description: git
---

### git单机多用户设置
有时候不同的项目需要用不同的账户，可以这样配置：
1. 新建user2的SSH Key
 新建SSH key：
```
$ cd ~/.ssh     # 切换到C:\Users\Administrator\.ssh
ssh-keygen -t rsa -C "mywork@email.com"  # 新建工作的SSH key
#设置名称为id_rsa_work
 Enter file in which to save the key (/c/Users/Administrator/.ssh/id_rsa): id_rsa_work
```
2. 新密钥添加到SSH agent中
```
ssh-agent bash
ssh-add ~/.ssh/id_rsa_work
```
3. 修改config文件
   在~/.ssh目录下找到config文件，如果没有就创建：
   touch config        # 创建config
   然后修改如下：
```
# 该文件用于配置私钥对应的服务器
# Default github user(first@mail.com)
Host github.com
 HostName github.com
 User git
 IdentityFile C:/Users/Administrator/.ssh/id_rsa

 # second user(second@mail.com)
 # 建一个github别名，新建的帐号使用这个别名做克隆和更新
Host github2
 HostName github.com
 User git
 IdentityFile C:/Users/Administrator/.ssh/id_rsa_work
```
5. 打开新生成的~/.ssh/id_rsa2.pub文件，将里面的内容添加到GitHub后台。
5. 不同项目remote设置
    不同的项目配置不同url
```
[remote "origin"]
	url = github2:username/myreps.git
	fetch = +refs/heads/*:refs/remotes/origin/*
```
### Git强制更新本地仓库
```
git fetch --all  
git reset --hard origin/master 
#git reset --hard head 
git pull
```
### Git一次推送多个服务器